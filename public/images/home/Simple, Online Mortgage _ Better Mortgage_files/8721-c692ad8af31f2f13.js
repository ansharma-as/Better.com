(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8721,9431],{1457:function(e,t,a){"use strict";a.d(t,{A:function(){return Layout}});var r=a(85893),s=a(55767),l=a(5152),n=a.n(l),i=a(24173);let o=n()(()=>Promise.all([a.e(5675),a.e(9418),a.e(2145)]).then(a.bind(a,29418)).then(e=>e.Footer),{loadableGenerated:{webpack:()=>[29418]},ssr:!1}),Layout=e=>{let{additionalLegalese:t,brand:a,children:l,isDarkNav:n,isHomepage:c,className:u,footerClassName:d}=e,h=(0,i.cn)("bg-accentBorderInverseSecondary full-hero",u);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.default,{isDarkNav:n,isHomepage:c}),(0,r.jsx)("div",{className:h,children:l}),(0,r.jsx)(o,{additionalLegalese:t,brand:a,className:d})]})}},79431:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return TextLink}});var r=a(85893),s=a(24173),l=a(41664),n=a.n(l),i=a(23802);function TextLink(e){let{className:t,href:a,variation:l="primary",...o}=e,c=(0,s.cn)("font-normal underline","focus:outline-interactivePrimary focus:outline-1 focus:outline-offset-[theme(spacing.2xs)]","primary"===l&&"text-interactivePrimary","secondary"===l&&"hover:text-interactivePrimary text-inherit",t);return(0,i.Z)(a)?(0,r.jsx)(n(),{className:c,href:a,...o}):(0,r.jsx)("a",{className:c,href:a,...o})}},43625:function(e,t,a){"use strict";a.d(t,{s:function(){return SearchResults}});var r=a(85893);a(67294);var s=a(98574),l=a(79431);let n={[s.VS.BLOG]:{url:"/content",text:"articles"},[s.VS.FAQ]:{url:"/faq",text:"FAQ"},[s.VS.GLOSSARY]:{url:"/glossary",text:"glossary"}},Link=e=>{let{searchTerm:t,searchType:a}=e;return(0,r.jsx)(l.default,{href:"".concat(a.url).concat(t?"?".concat(s.hS,"=").concat(t):""),children:a.text})},SearchMoreLinks=e=>{let{searchType:t,searchTerm:a}=e;return(0,r.jsx)(r.Fragment,{children:Object.keys(n).filter(e=>e!==t).filter(e=>e!==s.VS.GLOSSARY).map(e=>(0,r.jsx)("span",{children:(0,r.jsx)(Link,{searchTerm:a,searchType:n[e]})},e))})};var i=a(95091),o=a(24173);let SearchMore=e=>{let{searchContext:t,children:a}=e,{type:l,searchTerm:n}=t;return(0,r.jsx)("ul",{className:(0,o.cn)("border-t-[1px] border-strokeBorder mt-8 pl-0 list-none",l===s.VS.GLOSSARY&&"border-t-0"),children:(0,r.jsx)("li",{className:"max-w-[545px] my-10 mx-auto",children:(0,r.jsxs)(i.Text,{className:"text-center text-textSecondary",children:[a,(0,r.jsx)(SearchMoreLinks,{searchTerm:n,searchType:l})]})})})},SearchResults=e=>{let{searchContext:t,children:a,notFoundText:s}=e;return(0,r.jsxs)(r.Fragment,{children:[a,(0,r.jsx)(SearchMore,{searchContext:t,children:s})]})}},70910:function(e,t,a){"use strict";a.d(t,{o:function(){return Search},Z:function(){return L}});var r=a(85893),s=a(67294),l=a(24697),n=a(56749),i=a(98574),o=a(18202),c=a(26525),u=a.n(c),d=a(21515),h=a(27361),m=a.n(h),g=a(87441),p=a(91036),f=a.n(p);function transformBuilderVideos(e){return e.map(e=>{let{data:t}=e;if(!t)return{id:"",length:0,posterURL:"",title:"",videoId:"",videoURL:""};let{slug:a=""}=t,{posterurl:r=""}=t;return{...t,id:a,posterURL:r}})}function transformBuilderFaqTopic(e){if(!("data"in e))return[];let{data:t}=e,{faqs:a=[]}=t,r=a.map(e=>{let{faq:t}=e;if(!(t&&"value"in t&&"data"in t.value))return{answer:"",id:"",metaDescription:"",metaTitle:"",question:"",videos:[]};let a=t.value.data,{videos:r=[]}=a;a.builderVideoIds=r.map(e=>{let{entry:t}=e;return t&&"id"in t?t.id:""}),a.videos=[];let{answer:s=""}=a,{allowedAttributes:l,allowedTags:n}=f().defaults,i=f()(s,{allowVulnerableTags:!0,allowedAttributes:{...l,"*":["class"],img:["alt","src"]},allowedTags:n.concat(["br","img","style"])}),o=(0,g.Qc)(i,{gfm:!0});a.answer=o;let{slug:c=""}=a;return a.id=c,a});return r}function transformAllFaqTopics(e){return e.map(e=>{if(!("data"in e))return{};let{data:t}=e,{slug:a,title:r,videos:s=[]}=t,l=transformBuilderFaqTopic(e).filter(e=>!!e.id),n=s.map(e=>{let{video:t}=e;if(!(t&&"value"in t&&"data"in t.value))return{};let{posterurl:a=""}=t.value.data,{slug:r=""}=t.value.data;return{...t.value.data,id:r,posterURL:a}}).filter(e=>!!e.id);return{faq:l,id:a,title:r,videos:n}}).filter(e=>!!e.id)}let sortGlossaryEntries=e=>{let{glossaryEntries:t}=e,a=t.map(e=>({...e.entry.value.data,uriEncodedTerm:encodeURI(e.entry.value.name)})).sort((e,t)=>e.uriEncodedTerm.localeCompare(t.uriEncodedTerm));return{glossary:e,glossaryEntriesMap:a}},transformAuthor=e=>({fields:{avatar:{fields:{file:{details:{image:{height:"600",width:"600"}},url:null==e?void 0:e.value.data.avatar},title:m()(e,"value.data.name","")}},displayName:null==e?void 0:e.value.data.displayName,name:null==e?void 0:e.value.data.name,slug:null==e?void 0:e.value.data.slug,title:m()(e,"value.data.title","")}}),transformPostImage=(e,t)=>({fields:{file:{details:{image:{height:"630",width:"1200"}},url:e},title:"Blog post image for ".concat(t)}});o.fl.init("ea37b90b89334a2ab1714e2159c75418");let BuilderClient=class BuilderClient{async getTotal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"All",a=0;for(;a%100==0;)if("All"===t){let t=await o.fl.getAll(e,{limit:100,options:{offset:a}}).then(e=>e.length);a+=t}else{let r=await o.fl.getAll(e,{limit:100,options:{offset:a,"query.data.tagSlugs.$regex":t}}).then(e=>e.length);a+=r}return a}async getTags(){let e=[{name:"All",slug:""}];try{let t=await o.fl.getAll("blog-nav",{limit:1,options:{enrich:!0}}).then(e=>{var t;let[a]=e;return null===(t=a.data)||void 0===t?void 0:t.tags}),a=t.map(e=>({name:e.tag.value.data.name,slug:e.tag.value.data.slug}));return e.concat(a)}catch(t){return e}}async getPost(e){let t=await o.fl.getAll("blog-post",{limit:1,options:{enrich:!0,"query.data.slug":e}}),a=t.map(e=>(e.data.author=transformAuthor(e.data.author),e.data.postImage=transformPostImage(e.data.postImage,e.data.title),e.data.tags&&(e.data.tags=e.data.tags.map(e=>({name:e.tag.value.data.name,slug:e.tag.value.data.slug}))),e.data.lastUpdated=e.lastUpdated||e.data.publishDate,e.data));return a}async getPosts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=await o.fl.getAll("blog-post",{limit:t,options:{enrich:!0,offset:(e-1)*t,"sort.data.publishDate":-1},query:a}),s=r.map(e=>(e.data.author=transformAuthor(e.data.author),e.data.postImage=transformPostImage(e.data.postImage,e.data.title),e.data.tags&&(e.data.tags=e.data.tags.map(e=>({name:e.tag.value.data.name,slug:e.tag.value.data.slug}))),e.data.lastUpdated=e.lastUpdated||e.data.publishDate,e.data)),l=await this.getTotal("blog-post","All");return{limit:t,posts:s,total:l}}async getPostsByTag(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[a]=await o.fl.getAll("blog-tag",{limit:1,options:{enrich:!0,"query.data.slug":e}}),{metaTitle:r,metaDescription:s,name:l}=m()(a,"data",{metaTitle:"",metaDescription:"",name:""}),n=await o.fl.getAll("blog-post",{limit:20,options:{enrich:!0,offset:(t-1)*20,"query.data.tagSlugs.$regex":e,"sort.data.publishDate":-1}}),i=n.map(e=>(e.data.author=transformAuthor(e.data.author),e.data.postImage=transformPostImage(e.data.postImage,e.data.title),e.data.tags&&(e.data.tags=e.data.tags.map(e=>({name:e.tag.value.data.name,slug:e.tag.value.data.slug}))),e.data)),c=await this.getTotal("blog-post",e);return{limit:20,metaDescription:s,metaTitle:r,name:l,posts:i,total:c}}async getAllPosts(e){let t=0,a=[];for(;t%100==0&&t<e;){let{posts:e,totalPosts:r}=await o.fl.getAll("blog-post",{limit:100,options:{enrich:!0,offset:t,"sort.data.publishDate":-1}}).then(e=>({posts:e,totalPosts:e.length}));t+=r,e.forEach(e=>{e.data.author=transformAuthor(e.data.author),e.data.postImage=transformPostImage(e.data.postImage,e.data.title),e.data.tags&&(e.data.tags=e.data.tags.map(e=>({name:e.tag.value.data.name,slug:e.tag.value.data.slug}))),a.push(e.data)})}return a}async searchPosts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(e.length){let a=await o.fl.getAll("blog-post",{limit:5,options:{enrich:!0,"sort.data.publishDate":-1},query:{$or:[{"data.title":{$regex:e,$options:"i"}},{"data.metaDescription":{$regex:e,$options:"i"}}]}}),r=a.map(e=>(e.data.author=transformAuthor(e.data.author),e.data.postImage=transformPostImage(e.data.postImage,e.data.title),e.data.tags&&(e.data.tags=e.data.tags.map(e=>({name:e.tag.value.data.name,slug:e.tag.value.data.slug}))),e.data));this.allPostsResponse=r,t=r}return t}async getGlossary(){return o.fl.get("glossary").promise().then(e=>{let{data:t}=e;return sortGlossaryEntries(t)})}async searchGlossary(e){let{glossaryEntriesMap:t}=await this.getGlossary(),a=this.homebuyersGlossaryResponse?this.homebuyersGlossaryResponse:t;this.homebuyersGlossaryResponse=this.homebuyersGlossaryResponse?this.homebuyersGlossaryResponse:t;let r=[];return a.forEach(t=>{let{term:a}=t,s=d.Nr(e,a);s>=75&&r.push(t)}),r}async getVideos(e){try{let t="[".concat(e.map(e=>"'".concat(e,"'")),"]"),a=await o.fl.getAll("video",{query:{id:{$in:t}}});return transformBuilderVideos(a)}catch(e){return[]}}async getFaqsByTopic(e){try{let t=await o.fl.getAll("faq-topic",{limit:1,options:{enrich:!0},query:{data:{slug:e}}});return transformBuilderFaqTopic(t[0])}catch(e){return[]}}async getAllFaqTopics(){try{let e=await o.fl.getAll("faq-topic",{options:{enrich:!0}});return e.sort((e,t)=>{var a,r;return(null===(a=e.data)||void 0===a?void 0:a.rank)-(null===(r=t.data)||void 0===r?void 0:r.rank)}),transformAllFaqTopics(e)}catch(e){return[]}}async searchFaqs(e){let t=this.faqTopicsResponse;t||(t=await this.getAllFaqTopics(),this.faqTopicsResponse=t);let a=[],r={};return t.forEach(t=>{if(!t.faq)return;let{faq:s=[]}=t;s.forEach(s=>{if(!s.question)return;let{question:l,id:n,answer:i}=s,o=d.Nr(e,l);if(o>=75&&!r[n]){let e=document.createElement("div");e.innerHTML=i;try{let{innerText:l=""}=e,i=l.match(/.*?\./),c=i?i[0].trim():"";r[n]=n,a.push({...s,derivedAnswer:u()(c),derivedQuestionUrl:"/faq/".concat(t.id,"/").concat(n),ratio:o,slug:n})}catch(e){}}})}),a.sort((e,t)=>t.ratio-e.ratio),a}async searchByContentType(e,t){switch(e){case i.VS.BLOG:{let e=await this.searchPosts(t);return{blogResults:e}}case i.VS.FAQ:{let e=await this.searchFaqs(t);return{faqResults:e}}case i.VS.GLOSSARY:{let e=await this.searchGlossary(t);return{glossaryResults:e}}default:return{}}}constructor(){this.allPostsResponse=[],this.faqTopicsResponse=null,this.homebuyersGlossaryResponse=null}};let builderClient=()=>new BuilderClient,useBuilderQuery=(e,t,a)=>{let[r,o]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)(null),[m,g]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!0),[x,y]=(0,s.useState)(null),[v]=(0,l.Nr)(r,500),b=Object.values(i.VS),handleSearchResults=e=>{h(t=>({...t,...e}))};(0,s.useEffect)(()=>{d&&d["".concat(e,"Results")]&&g(!1)},[d,e]),(0,s.useEffect)(()=>{let e=new window.URLSearchParams(window.location.search).get(i.hS);e&&(onChangeHandler(e,!0),u(e))},[]),(0,s.useEffect)(()=>{c&&!m&&(u(""),onKeyPressHandler({key:n.R.ENTER}))},[c,m]),(0,s.useEffect)(()=>{let e=builderClient();y(e)},[e]),(0,s.useEffect)(()=>{x?b.forEach(e=>{x.searchByContentType(e,v).then(e=>handleSearchResults(e))}):handleSearchResults(null)},[e,v,x]);let onChangeHandler=function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o(e),g(!!e),f(a),h(null),t&&t(e)},onKeyPressHandler=e=>{e.key===n.R.ENTER&&!m&&(f(!0),a&&a(d))};return{searchTerm:r,searchResults:d,onChange:e=>{let{value:t}=e.target;onChangeHandler(t)},onKeyPress:onKeyPressHandler,clearSearchTerm:()=>{o(""),f(!1)},isSearching:m,shouldShowResults:p}};var x=a(87764),y=a(36316),v=a(41352),b=a(85796),S=a(20501);let SearchMoreTabs=e=>{let{text:t,path:a}=e;return(0,r.jsx)("li",{className:"no-underline focus:text-contrastPrimary md:px-6",children:(0,r.jsx)(S.ButtonLink,{href:a,size:"small",className:"py-1 h-8 px-4",children:t})})};var T=a(95091);let j={blogResults:e=>({text:"Search articles",path:"/content?search_term=".concat(e)}),faqResults:e=>({text:"Search FAQ",path:"/faq?search_term=".concat(e)})},R={[i.VS.BLOG]:"articles",[i.VS.FAQ]:"FAQ"},notFoundMessage=(e,t)=>"We couldn't find any ".concat(R[e]," about “").concat(t,"”"),InterstitialFurtherSearchTabs=e=>{let{searchResults:t,searchTerm:a,searchType:l,showNotFoundMessage:n}=e,i=[];return t?(Object.entries(t).forEach(e=>{let[t,r]=e;if(r&&!t.includes("glossary")&&t!=="".concat(l,"Results")&&r.length>0){let e=j[t];i.push(e(a))}}),n)?(0,r.jsx)(T.Text,{className:"text-textSecondary p-7",children:i.length>0?(0,r.jsx)(r.Fragment,{children:notFoundMessage(l,a)}):(0,r.jsx)(r.Fragment,{children:"".concat(notFoundMessage(l,a),", try adjusting your search terms.")})}):i.length?(0,r.jsx)("ul",{className:"py-4 px-auto md:py-8 flex",children:i.map(e=>(0,s.createElement)(SearchMoreTabs,{...e,key:e.path}))}):null:null};var w=a(41664),A=a.n(w),N=a(8879),F=a(25675),I=a.n(F);let InterstitialResult=e=>{let{url:t,heading:a,description:l,postImage:n,type:i,isNoResult:o,searchResults:c,searchTerm:u=""}=e,[d,h]=(0,s.useState)(!1);if(o)return(0,r.jsxs)("li",{"aria-live":"polite",role:"status",children:[(0,r.jsx)("div",{className:"block md:hidden",children:(0,r.jsxs)(T.Text,{colorVariation:"secondary",children:['No results for "',u,'"']})}),(0,r.jsx)("div",{className:"hidden md:block",children:(0,r.jsx)(InterstitialFurtherSearchTabs,{searchResults:c,searchTerm:u,searchType:i,showNotFoundMessage:!0})})]});let m=Math.floor(100*Math.random());return t?(0,r.jsxs)("li",{"aria-selected":d,className:"hover:bg-backgroundSecondary md:px-6 py-8 pb-0 md:rounded-base",onBlur:()=>h(!1),onFocus:()=>h(!0),role:"option",children:[(0,r.jsxs)(A(),{"aria-describedby":"question-".concat(m),"aria-labelledby":"heading-".concat(m),href:t,className:"flex gap-4",children:[(0,r.jsxs)("article",{"aria-hidden":"true",className:"flex-1",children:[(0,r.jsx)(N.Heading,{id:"heading-".concat(m),tag:"h2",variant:"h5",className:"text-textSecondary text-base",children:a}),(0,r.jsx)("div",{className:"hidden md:block mt-4",children:(0,r.jsx)(T.Text,{id:"question-".concat(m),variation:"body",className:"text-textSecondary text-base",children:l})})]}),n&&(0,r.jsx)(I(),{alt:a||"",width:100,height:100,className:"hidden md:block md:w-[88px] md:h-[88px] object-cover rounded-base",src:n.fields.file.url})]}),(0,r.jsx)("hr",{className:"flex mt-6 border-t-[1px] border-strokeBorder"})]}):null};var q=a(16240);let mapInterstitialResults=(e,t)=>{if(t)switch(e){case i.VS.BLOG:return(t.blogResults||[]).map((e,t)=>{let{slug:a,postImage:s,title:l,metaDescription:n}=e,o=(0,q.uR)(a);return(0,r.jsx)(InterstitialResult,{description:n,heading:l,pos:t,postImage:s,type:i.VS.BLOG,url:o},a)});case i.VS.FAQ:return(t.faqResults||[]).map((e,t)=>{let{derivedAnswer:a,derivedQuestionUrl:s,question:l}=e;return(0,r.jsx)(InterstitialResult,{description:a,heading:l,pos:t,type:i.VS.FAQ,url:s},l)});default:return[]}},Interstitial=e=>{let{searchResults:t,searchTerm:a,searchType:s}=e,l=t&&mapInterstitialResults(s,t);return l?(0,r.jsxs)("ul",{"aria-labelledby":i.BX.SearchLabel,className:"md:min-h-[87px] md:border md:border-strokeBorder md:rounded-base mb-lg",id:i.BX.SearchListbox,role:"listbox",children:[!!l.length&&(0,r.jsxs)(r.Fragment,{children:[l.slice(0,3),(0,r.jsx)(InterstitialFurtherSearchTabs,{searchResults:t,searchTerm:a,searchType:s,showNotFoundMessage:!1})]}),0===l.length&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(InterstitialResult,{isNoResult:!0,pos:0,searchResults:t,searchTerm:a,type:s,url:""}),(0,r.jsx)(InterstitialFurtherSearchTabs,{searchResults:t,searchTerm:a,searchType:s,showNotFoundMessage:!1})]})]}):null};function Search(e){let{placeholder:t,searchType:a,onFocus:s,onChangeHandler:l,onClearSearchTerm:n}=e,{onChange:o,clearSearchTerm:c,searchResults:u,searchTerm:d,isSearching:h,shouldShowResults:m}=useBuilderQuery(a,l),g=d&&a!==i.VS.GLOSSARY&&!m&&!h;return(0,r.jsxs)("div",{"aria-controls":i.BX.SearchListbox,"aria-expanded":!!g,"aria-haspopup":"listbox",className:"relative w-full md:w-1/2",role:"combobox",children:[(0,r.jsxs)("div",{className:"mt-base mb-xl relative w-full",children:[(0,r.jsxs)("label",{className:"u-screenReaderOnly hidden",htmlFor:"search-input",id:i.BX.SearchLabel,children:["Search ",a]}),(0,r.jsx)("span",{className:"absolute width-6 h-6 top-7 -translate-x-1/2 left-4",children:(0,r.jsx)(x.Z,{fill:"var(--search-icon-fill)",height:"100%",width:"100%"})}),(0,r.jsx)(b.I,{"aria-autocomplete":"list",className:"",id:i.BX.SearchInput,onChange:o,onFocus:s,placeholder:t,value:d,icon:(0,r.jsx)(x.Z,{height:20,width:20})}),h&&(0,r.jsx)("div",{className:"absolute z-2 right-6 top-1/2 -translate-y-1/2",children:(0,r.jsx)(y.Z,{className:"animate-spin",width:30,height:30})}),!h&&d&&(0,r.jsx)(v.Z,{"aria-label":"Clear search term",width:25,height:25,className:"cursor-pointer absolute z-2 right-6 top-1/2 -translate-y-1/2",onClick:()=>{c(),n&&n()}})]}),g&&(0,r.jsx)(Interstitial,{searchResults:u,searchTerm:d,searchType:a,showResults:m})]})}var L=Search},98574:function(e,t,a){"use strict";var r,s,l,n;a.d(t,{BX:function(){return s},VS:function(){return r},fA:function(){return i},hS:function(){return o}}),a(67294);let i="All articles",o="search_term";(l=r||(r={})).BLOG="blog",l.FAQ="faq",l.GLOSSARY="glossary",(n=s||(s={})).SearchListbox="search-listbox",n.SearchLabel="search-label",n.SearchInput="search-input"},16240:function(e,t,a){"use strict";a.d(t,{Du:function(){return resolveTagUrl},Sv:function(){return nextPageUrl},uR:function(){return getPostUrl},wk:function(){return truncateWords},zt:function(){return isActiveTag}});let r="/content",isActiveTag=(e,t)=>{let{query:a}=e,r=a.slug?a.slug:"";return r===t},resolveTagUrl=e=>"glossary"===e?"/glossary":"".concat(r).concat(e?"/tag/".concat(e):""),nextPageUrl=(e,t)=>{let{query:a}=e,{slug:r}=a,s="/content";return r&&(s="/content/tag/".concat(r)),t>1&&(s+="/page/".concat(t)),s},getPostUrl=e=>"".concat(r,"/").concat(e),truncateWords=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;if(e){let a=e.split(" ");return a.length>t?"".concat(a.slice(0,30).join(" "),"..."):e}return""}},56749:function(e,t,a){"use strict";var r,s;a.d(t,{R:function(){return r}}),(s=r||(r={})).ENTER="Enter",s.SPACE=" ",s.TAB="Tab"},22868:function(){},14777:function(){},99830:function(){},70209:function(){}}]);