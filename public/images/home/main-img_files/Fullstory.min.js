var Fullstory_RS=function(e){"use strict";function t(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function o(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}const n="FULLSTORY",s="Fullstory",r={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}};function i(e){return function(e){return e?"string"==typeof e?e:String(e):""}(e).match(/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g)}function a(e){return function(e){let t="";if(!e)return t;for(let o=0,n=e.length;o<n;o+=1){let n=e[o].toLowerCase();0!==o&&(n=n.substr(0,1).toUpperCase()+n.substr(1)),t+=n}return t}(i(e))}const c=new class{constructor(e,t){this.level=+t||r.ERROR.value,this.scope=e||""}setLogLevel(e){if(e&&"string"==typeof e){const t=e.toUpperCase();this.level=r[t]?r[t].value:this.level}}setScope(e){this.scope=e||this.scope}log(...e){this.logBase(e,r.LOG.value)}info(...e){this.logBase(e,r.INFO.value)}debug(...e){this.logBase(e,r.DEBUG.value)}warn(...e){this.logBase(e,r.WARN.value)}error(...e){this.logBase(e,r.ERROR.value)}logBase(e,t){if(this.level<=t){Object.values(r).find((e=>e.value===t)).method(...this.getLogData(e))}}getLogData(e){if(Array.isArray(e)&&e.length>0){let t="%c RS SDK";this.scope&&(t=`${t} - ${this.scope}`);t=`${t} %c ${e[0].trim()}`;const o=[];return o.push(t),o.push("font-weight: bold; background: black; color: white;"),o.push("font-weight: normal;"),o.push(...e.slice(1)),o}return e}}(s);class l{constructor(e,t,o){t.logLevel&&c.setLogLevel(t.logLevel),this.fs_org=e.fs_org,this.fs_debug_mode=e.fs_debug_mode,this.fs_host=e.fs_host||"fullstory.com",this.name=n,this.analytics=t,({shouldApplyDeviceModeTransformation:this.shouldApplyDeviceModeTransformation,propagateEventsUntransformedOnError:this.propagateEventsUntransformedOnError,destinationId:this.destinationId}=null!=o?o:{})}static getFSProperties(e){const t={};return Object.keys(e).forEach((o=>{t["displayName"===o||"email"===o?o:l.camelCaseField(o)]=e[o]})),t}static camelCaseField(e){const t=e.split("_");if(t.length>1){const e=t.pop();switch(e){case"str":case"int":case"date":case"real":case"bool":case"strs":case"ints":case"dates":case"reals":case"bools":return`${a(t.join("_"))}_${e}`}}return a(e)}init(){var e,t,o,r,i,a,l,u,f,d,p;e=this.fs_debug_mode,t=this.fs_host,o=this.fs_org,window._fs_debug=e,window._fs_host=t,window._fs_script="edge.fullstory.com/s/fs.js",window._fs_org=o,window._fs_namespace="FS",r=window,i=document,a=window._fs_namespace,l="script",u="user",a in r?r.console&&r.console.log&&r.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].'):((d=r[a]=function(e,t,o){d.q?d.q.push([e,t,o]):d._api(e,t,o)}).q=[],(f=i.createElement(l)).async=1,f.crossOrigin="anonymous",f.src=`https://${_fs_script}`,f.setAttribute("data-loader","RS_JS_SDK"),(p=i.getElementsByTagName(l)[0]).parentNode.insertBefore(f,p),d.identify=function(e,t,o){d(u,{uid:e},o),t&&d(u,t,o)},d.setUserVars=function(e,t){d(u,e,t)},d.event=function(e,t,o){d("event",{n:e,p:t},o)},d.shutdown=function(){d("rec",!1)},d.restart=function(){d("rec",!0)},d.log=function(e,t){d("log",[e,t])},d.consent=function(e){d("consent",!arguments.length||e)},d.identifyAccount=function(e,t){f="account",(t=t||{}).acctId=e,d(f,t)},d.clearUserCookie=function(){},d._w={},p="XMLHttpRequest",d._w[p]=r[p],p="fetch",d._w[p]=r[p],r[p]&&(r[p]=function(){return d._w[p].apply(this,arguments)}));const g=(w=this.analytics.loadOnlyIntegrations)&&(w[s]||w[n]);var w;!0===(null==g?void 0:g.crossDomainSupport)&&(window._fs_identity=function(){if(window.localStorage){const{tata_customer_hash:e}=window.localStorage;if(e)return{uid:e,displayName:e}}else c.info("Unable to access localStorage");return null},function(){function e(e){if(window._fs_namespace)return e?window[window._fs_namespace][e]:window[window._fs_namespace];c.error('FullStory unavailable, window["_fs_namespace"] must be defined')}const t=g.timeout||2e3;e("shutdown")(),function(e,t,o,n){let s=0,r=64;const i=function(){"function"==typeof e&&e()?t():(r=Math.min(2*r,1024),s>o&&n&&n(),s+=r,setTimeout(i,r))};i()}(window._fs_identity,(function(){if("function"==typeof window._fs_identity){const t=window._fs_identity();"object"==typeof t&&"string"==typeof t.uid?(e("setUserVars")(t),e("restart")()):e("log")("error","FS.setUserVars requires an object that contains uid")}else e("log")("error",'window["_fs_identity"] function not found')}),t,e("restart"))}())}isLoaded(){return!!window.FS}isReady(){return this.isLoaded()}page(e){const n=e.message,s=function(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?o(Object(s),!0).forEach((function(o){t(e,o,s[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({name:n.name},n.properties);window.FS.event("Viewed a Page",l.getFSProperties(s))}identify(e){let{userId:t}=e.message;const{context:o,anonymousId:n}=e.message,{traits:s}=o;t||(t=n),0===Object.keys(s).length&&s.constructor===Object?window.FS.identify(t):window.FS.identify(t,l.getFSProperties(s))}track(e){window.FS.event(e.message.event,l.getFSProperties(e.message.properties))}}return e.Fullstory=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e}({});
//# sourceMappingURL=Fullstory.min.js.map
